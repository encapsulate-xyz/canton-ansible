[Unit]
Description={{ service_identifier }}

[Service]
User={{ service_identifier }}
Group={{ project }}
WorkingDirectory={{ node_home_dir }}
EnvironmentFile={{ node_environment_general_file_path }}
ExecStart={{ node_bin_dir }}/{{ service_identifier }} \
daemon --no-tty \
--log-encoder=json \
--log-level-stdout=DEBUG \
--log-level-canton=DEBUG \
--log-file-appender=off \
--config {{ node_app_config_file_path }} \
--config {{ node_monitor_config_file_path }} \
--config {{ node_parameters_config_file_path }} \
--config {{ node_additional_config_file_path }} \
--bootstrap {{ node_bootstrap_entrypoint_file_path }}

Restart=always
RestartSec=4
LimitNOFILE=65536
MemoryMax=64G
StandardOutput=append:{{ node_log_file_path }}
StandardError=inherit

[Install]
WantedBy=multi-user.target
